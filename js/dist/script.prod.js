"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}window.addEventListener("load",function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").then(function(){console.log("Service worker install success.")}).catch(function(){console.error("Service worker install failed.")})});var ThemeManager=function(){function e(){_classCallCheck(this,e),window.CSS&&CSS.supports("color","var(--bg)")&&(document.getElementById("color-mode-toggle-button").classList.remove("hidden"),this.iconDark=document.getElementById("icon-dark"),this.iconLight=document.getElementById("icon-light"),this.isDarkPreferred()?(document.documentElement.setAttribute("color-mode","dark"),this.setColorModeIcon("dark")):(document.documentElement.setAttribute("color-mode","light"),this.setColorModeIcon("light")),this.setMetaThemeColor())}return _createClass(e,[{key:"isDarkPreferred",value:function(){return"dark"==localStorage.getItem("color-mode")||!localStorage.getItem("color-mode")&&window.matchMedia("(prefers-color-scheme: dark)").matches}},{key:"setColorModeIcon",value:function(e){"dark"==e?(this.iconDark.style.display="none",this.iconLight.style.display="flex"):(this.iconLight.style.display="none",this.iconDark.style.display="flex")}},{key:"toggleColorMode",value:function(){"light"==document.documentElement.getAttribute("color-mode")?(document.documentElement.setAttribute("color-mode","dark"),localStorage.setItem("color-mode","dark"),this.setColorModeIcon("dark")):(document.documentElement.setAttribute("color-mode","light"),localStorage.setItem("color-mode","light"),this.setColorModeIcon("light")),this.setMetaThemeColor()}},{key:"setMetaThemeColor",value:function(){document.querySelector('meta[name="theme-color"]').setAttribute("content",getComputedStyle(document.documentElement).getPropertyValue("--bg-welcome"))}}]),e}(),EventManager=function(){function e(){_classCallCheck(this,e),this.navbar=document.getElementById("nav-bar"),this.downArrow=document.getElementById("down-arrow"),window.addEventListener("scroll",this.onScrollCheckpoints.bind(this)),this.downArrow.addEventListener("click",this.downArrowDisappear.bind(this))}return _createClass(e,[{key:"onScrollCheckpoints",value:function(){var e=window.pageYOffset||document.documentElement.scrollTop,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.navbar.classList.toggle("no-background",e<=t),this.downArrow.classList.toggle("hidden",t/3<=e)}},{key:"downArrowDisappear",value:function(){var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;window.scrollBy(0,2*e/3)}}]),e}(),themeManager=new ThemeManager,eventManager=new EventManager;