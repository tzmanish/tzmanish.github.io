"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}window.addEventListener("load",function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").then(function(){console.log("Service worker install success.")}).catch(function(){console.error("Service worker install failed.")})});var ThemeManager=function(){function t(){var e,o=this;_classCallCheck(this,t),window.CSS&&CSS.supports("color","var(--bg)")&&(document.getElementById("color-mode-toggle-button").classList.remove("hidden"),this.iconDark=document.getElementById("icon-dark"),this.iconLight=document.getElementById("icon-light"),e="light",window.matchMedia?(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(e){var t=e.matches?"dark":"light";o.setColorMode(t)})):e="dark"==localStorage.getItem("color-mode")?"dark":"light",this.setColorMode(e))}return _createClass(t,[{key:"setColorMode",value:function(e){document.documentElement.setAttribute("color-mode",e),this.setColorModeIcon(e),this.setMetaThemeColor(),localStorage.setItem("color-mode",e)}},{key:"setColorModeIcon",value:function(e){"dark"==e?(this.iconDark.style.display="none",this.iconLight.style.display="flex"):(this.iconLight.style.display="none",this.iconDark.style.display="flex")}},{key:"toggleColorMode",value:function(){var e="light"==document.documentElement.getAttribute("color-mode")?"dark":"light";this.setColorMode(e)}},{key:"setMetaThemeColor",value:function(){document.querySelector('meta[name="theme-color"]').setAttribute("content",getComputedStyle(document.documentElement).getPropertyValue("--bg-welcome"))}}]),t}(),EventManager=function(){function e(){_classCallCheck(this,e),this.navbar=document.getElementById("nav-bar"),this.downArrow=document.getElementById("down-arrow"),window.addEventListener("scroll",this.onScrollCheckpoints.bind(this)),this.downArrow.addEventListener("click",this.downArrowDisappear.bind(this))}return _createClass(e,[{key:"onScrollCheckpoints",value:function(){var e=window.pageYOffset||document.documentElement.scrollTop,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.navbar.classList.toggle("no-background",e<=t),this.downArrow.classList.toggle("hidden",t/3<=e)}},{key:"downArrowDisappear",value:function(){var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;window.scrollBy(0,2*e/3)}}]),e}(),themeManager=new ThemeManager,eventManager=new EventManager;